<div class="p-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-zoho-blue/20 dark:border-gray-700/50">
    <h2 class="text-2xl font-bold text-zoho-dark-gray dark:text-white mb-4">Profile</h2>
  
    <!-- Tabs -->
    <div class="flex border-b border-zoho-blue/20 dark:border-gray-700 mb-6">
      <button
        (click)="setActiveTab('professional')"
        class="px-4 py-2 font-semibold text-zoho-dark-gray dark:text-gray-300 transition-colors duration-200"
        [ngClass]="{
          'border-b-2 border-zoho-blue text-zoho-blue dark:text-zoho-blue': activeTab === 'professional',
          'hover:text-zoho-blue dark:hover:text-zoho-blue': activeTab !== 'professional'
        }"
      >
        Professional Information
      </button>
      <button
        (click)="setActiveTab('personal')"
        class="px-4 py-2 font-semibold text-zoho-dark-gray dark:text-gray-300 transition-colors duration-200"
        [ngClass]="{
          'border-b-2 border-zoho-blue text-zoho-blue dark:text-zoho-blue': activeTab === 'personal',
          'hover:text-zoho-blue dark:hover:text-zoho-blue': activeTab !== 'personal'
        }"
      >
        Personal Information
      </button>
    </div>
  
    <!-- Loading State -->
    <div *ngIf="isLoading" class="flex justify-center">
      <div class="loader ease-linear rounded-full border-4 border-t-4 border-zoho-blue h-12 w-12"></div>
    </div>
  
    <!-- Error Message -->
    <div *ngIf="errorMessage && !isLoading" class="bg-zoho-error p-4 rounded-md text-white mb-4 text-center">
      {{ errorMessage }}
    </div>
  
    <!-- Professional Information Tab (Non-Editable) -->
    <div *ngIf="activeTab === 'professional' && !isLoading && !errorMessage && profile" class="space-y-4">
      <div>
        <label class="block text-zoho-dark-gray dark:text-gray-300 font-semibold">Full Name</label>
        <p class="text-gray-600 dark:text-gray-400">{{ profile.fullName || 'N/A' }}</p>
      </div>
      <div>
        <label class="block text-zoho-dark-gray dark:text-gray-300 font-semibold">Email</label>
        <p class="text-gray-600 dark:text-gray-400">{{ profile.email || 'N/A' }}</p>
      </div>
      <div>
        <label class="block text-zoho-dark-gray dark:text-gray-300 font-semibold">Department</label>
        <p class="text-gray-600 dark:text-gray-400">{{ profile.department || 'N/A' }}</p>
      </div>
      <div>
        <label class="block text-zoho-dark-gray dark:text-gray-300 font-semibold">Designation</label>
        <p class="text-gray-600 dark:text-gray-400">{{ profile.designation || 'N/A' }}</p>
      </div>
    </div>
  
    <!-- Personal Information Tab (Editable) -->
    <div *ngIf="activeTab === 'personal' && !isLoading && !errorMessage" class="space-y-4">
      <div>
        <label class="block text-zoho-dark-gray dark:text-gray-300 font-semibold">Address</label>
        <input
          *ngIf="isEditingPersonal"
          [(ngModel)]="personalInfo.address"
          class="w-full p-2 border border-zoho-blue/20 rounded-md focus:ring-2 focus:ring-zoho-blue focus:border-zoho-blue dark:bg-gray-700 dark:border-gray-600 dark:text-white transition-all duration-200"
          type="text"
          placeholder="Enter your address"
        />
        <p *ngIf="!isEditingPersonal" class="text-gray-600 dark:text-gray-400">{{ personalInfo.address || 'N/A' }}</p>
      </div>
      <div>
        <label class="block text-zoho-dark-gray dark:text-gray-300 font-semibold">City</label>
        <input
          *ngIf="isEditingPersonal"
          [(ngModel)]="personalInfo.city"
          class="w-full p-2 border border-zoho-blue/20 rounded-md focus:ring-2 focus:ring-zoho-blue focus:border-zoho-blue dark:bg-gray-700 dark:border-gray-600 dark:text-white transition-all duration-200"
          type="text"
          placeholder="Enter your city"
        />
        <p *ngIf="!isEditingPersonal" class="text-gray-600 dark:text-gray-400">{{ personalInfo.city || 'N/A' }}</p>
      </div>
      <div>
        <label class="block text-zoho-dark-gray dark:text-gray-300 font-semibold">State</label>
        <input
          *ngIf="isEditingPersonal"
          [(ngModel)]="personalInfo.state"
          class="w-full p-2 border border-zoho-blue/20 rounded-md focus:ring-2 focus:ring-zoho-blue focus:border-zoho-blue dark:bg-gray-700 dark:border-gray-600 dark:text-white transition-all duration-200"
          type="text"
          placeholder="Enter your state"
        />
        <p *ngIf="!isEditingPersonal" class="text-gray-600 dark:text-gray-400">{{ personalInfo.state || 'N/A' }}</p>
      </div>
      <div>
        <label class="block text-zoho-dark-gray dark:text-gray-300 font-semibold">Postal Code</label>
        <input
          *ngIf="isEditingPersonal"
          [(ngModel)]="personalInfo.postalCode"
          class="w-full p-2 border border-zoho-blue/20 rounded-md focus:ring-2 focus:ring-zoho-blue focus:border-zoho-blue dark:bg-gray-700 dark:border-gray-600 dark:text-white transition-all duration-200"
          type="text"
          placeholder="Enter your postal code"
        />
        <p *ngIf="!isEditingPersonal" class="text-gray-600 dark:text-gray-400">{{ personalInfo.postalCode || 'N/A' }}</p>
      </div>
      <div>
        <label class="block text-zoho-dark-gray dark:text-gray-300 font-semibold">Country</label>
        <input
          *ngIf="isEditingPersonal"
          [(ngModel)]="personalInfo.country"
          class="w-full p-2 border border-zoho-blue/20 rounded-md focus:ring-2 focus:ring-zoho-blue focus:border-zoho-blue dark:bg-gray-700 dark:border-gray-600 dark:text-white transition-all duration-200"
          type="text"
          placeholder="Enter your country"
        />
        <p *ngIf="!isEditingPersonal" class="text-gray-600 dark:text-gray-400">{{ personalInfo.country || 'N/A' }}</p>
      </div>
      <div>
        <label class="block text-zoho-dark-gray dark:text-gray-300 font-semibold">Marital Status</label>
        <select
          *ngIf="isEditingPersonal"
          [(ngModel)]="personalInfo.maritalStatus"
          class="w-full p-2 border border-zoho-blue/20 rounded-md focus:ring-2 focus:ring-zoho-blue focus:border-zoho-blue dark:bg-gray-700 dark:border-gray-600 dark:text-white transition-all duration-200"
        >
          <option value="">Select Marital Status</option>
          <option value="Single">Single</option>
          <option value="Married">Married</option>
          <option value="Divorced">Divorced</option>
          <option value="Widowed">Widowed</option>
        </select>
        <p *ngIf="!isEditingPersonal" class="text-gray-600 dark:text-gray-400">{{ personalInfo.maritalStatus || 'N/A' }}</p>
      </div>
      <div>
        <label class="block text-zoho-dark-gray dark:text-gray-300 font-semibold">Blood Group</label>
        <select
          *ngIf="isEditingPersonal"
          [(ngModel)]="personalInfo.bloodGroup"
          class="w-full p-2 border border-zoho-blue/20 rounded-md focus:ring-2 focus:ring-zoho-blue focus:border-zoho-blue dark:bg-gray-700 dark:border-gray-600 dark:text-white transition-all duration-200"
        >
          <option value="">Select Blood Group</option>
          <option value="A+">A+</option>
          <option value="A-">A-</option>
          <option value="B+">B+</option>
          <option value="B-">B-</option>
          <option value="AB+">AB+</option>
          <option value="AB-">AB-</option>
          <option value="O+">O+</option>
          <option value="O-">O-</option>
        </select>
        <p *ngIf="!isEditingPersonal" class="text-gray-600 dark:text-gray-400">{{ personalInfo.bloodGroup || 'N/A' }}</p>
      </div>
      <div>
        <label class="block text-zoho-dark-gray dark:text-gray-300 font-semibold">Emergency Contact Name</label>
        <input
          *ngIf="isEditingPersonal"
          [(ngModel)]="personalInfo.emergencyContactName"
          class="w-full p-2 border border-zoho-blue/20 rounded-md focus:ring-2 focus:ring-zoho-blue focus:border-zoho-blue dark:bg-gray-700 dark:border-gray-600 dark:text-white transition-all duration-200"
          type="text"
          placeholder="Enter emergency contact name"
        />
        <p *ngIf="!isEditingPersonal" class="text-gray-600 dark:text-gray-400">{{ personalInfo.emergencyContactName || 'N/A' }}</p>
      </div>
      <div>
        <label class="block text-zoho-dark-gray dark:text-gray-300 font-semibold">Emergency Contact Phone</label>
        <input
          *ngIf="isEditingPersonal"
          [(ngModel)]="personalInfo.emergencyContactPhone"
          class="w-full p-2 border border-zoho-blue/20 rounded-md focus:ring-2 focus:ring-zoho-blue focus:border-zoho-blue dark:bg-gray-700 dark:border-gray-600 dark:text-white transition-all duration-200"
          type="text"
          placeholder="Enter emergency contact phone"
        />
        <p *ngIf="!isEditingPersonal" class="text-gray-600 dark:text-gray-400">{{ personalInfo.emergencyContactPhone || 'N/A' }}</p>
      </div>
  
      <!-- Edit/Save Buttons for Personal Information -->
      <div class="mt-6 flex space-x-4">
        <button
          (click)="toggleEditPersonal()"
          class="bg-zoho-blue text-white p-2 rounded-md hover:bg-zoho-navy transition-all duration-200 shadow-md hover:shadow-lg"
        >
          {{ isEditingPersonal ? 'Cancel' : 'Edit Personal Info' }}
        </button>
        <button
          *ngIf="isEditingPersonal"
          (click)="savePersonalInfo()"
          class="bg-green-500 text-white p-2 rounded-md hover:bg-green-600 transition-all duration-200 shadow-md hover:shadow-lg"
        >
          Save
        </button>
      </div>
    </div>
  
    <style>
      .loader {
        border-top-color: transparent;
        animation: spin 1s linear infinite;
      }
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    </style>